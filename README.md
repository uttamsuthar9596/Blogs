# üìù Django Blog Application with MySQL

This is a full-featured **Blog Application** built using **Django**, **Django REST Framework**, **MySQL**, and **JWT Authentication**. It allows users to register, log in, create and manage their own blog posts, view others‚Äô posts, and interact with the content via a dynamic frontend.

---

## ‚öôÔ∏è Project Setup (Start Here)

Follow these steps to set up the project on your local system:

### 1Ô∏è‚É£ Clone the Repository

```bash
git clone https://github.com/uttamsuthar9596/Blogs.git
cd blogs
```

### 2Ô∏è‚É£ Create and Activate a Virtual Environment

```bash
python -m venv env
source env/bin/activate      # On Windows: env\Scripts\activate
```

### 3Ô∏è‚É£ Install Required Packages

```bash
pip install -r requirements.txt
```

### 4Ô∏è‚É£ Configure MySQL Database

Replace settings.py file:
```ds"""
Django settings for blog_project project.

Generated by 'django-admin startproject' using Django 5.1.1.
"""

import os
from pathlib import Path

# Base directory
BASE_DIR = Path(__file__).resolve().parent.parent

# SECURITY WARNING: keep the secret key used in production secret!
SECRET_KEY = 'django-insecure-replace-this-with-your-own-key'

DEBUG = True
ALLOWED_HOSTS = []

# Application definition
INSTALLED_APPS = [
    'django.contrib.admin',
    'django.contrib.auth',
    'django.contrib.contenttypes',
    'django.contrib.sessions',
    'django.contrib.messages',
    'django.contrib.staticfiles',
    'blog',
    'rest_framework',
]

MIDDLEWARE = [
    'django.middleware.security.SecurityMiddleware',
    'django.contrib.sessions.middleware.SessionMiddleware',
    'django.middleware.common.CommonMiddleware',
    'django.middleware.csrf.CsrfViewMiddleware',
    'django.contrib.auth.middleware.AuthenticationMiddleware',
    'django.contrib.messages.middleware.MessageMiddleware',
    'django.middleware.clickjacking.XFrameOptionsMiddleware',
]

ROOT_URLCONF = 'blog_project.urls'

TEMPLATES = [
    {
        'BACKEND': 'django.template.backends.django.DjangoTemplates',
        'DIRS': [],
        'APP_DIRS': True,
        'OPTIONS': {
            'context_processors': [
                'django.template.context_processors.debug',
                'django.template.context_processors.request',
                'django.contrib.auth.context_processors.auth',
                'django.contrib.messages.context_processors.messages',
            ],
        },
    },
]

WSGI_APPLICATION = 'blog_project.wsgi.application'

DATABASES = {
    'default': {
        'ENGINE': 'django.db.backends.mysql',
        'NAME': 'your_db_name',
        'USER': 'your_mysql_user',
        'PASSWORD': 'your_mysql_password',
        'HOST': 'localhost',
        'PORT': '3306',
    }
}

# Password validation
AUTH_PASSWORD_VALIDATORS = [
    {'NAME': 'django.contrib.auth.password_validation.UserAttributeSimilarityValidator'},
    {'NAME': 'django.contrib.auth.password_validation.MinimumLengthValidator'},
    {'NAME': 'django.contrib.auth.password_validation.CommonPasswordValidator'},
    {'NAME': 'django.contrib.auth.password_validation.NumericPasswordValidator'},
]

# Localization
LANGUAGE_CODE = 'en-us'
TIME_ZONE = 'UTC'
USE_I18N = True
USE_TZ = True

# Static files
STATIC_URL = 'static/'

# REST framework settings
REST_FRAMEWORK = {
    'DEFAULT_AUTHENTICATION_CLASSES': (
        'rest_framework_simplejwt.authentication.JWTAuthentication',
    ),
    'DEFAULT_PAGINATION_CLASS': 'rest_framework.pagination.PageNumberPagination',
    'PAGE_SIZE': 10,
}

DEFAULT_AUTO_FIELD = 'django.db.models.BigAutoField'
```

Open `blog_project/settings.py` and update your database configuration:


```python
DATABASES = {
    'default': {
        'ENGINE': 'django.db.backends.mysql',
        'NAME': 'your_db_name',
        'USER': 'your_mysql_user',
        'PASSWORD': 'your_mysql_password',
        'HOST': 'localhost',
        'PORT': '3306',
    }
}
```
> Example-
```python
DATABASES = {
    'default': {
        'ENGINE': 'django.db.backends.mysql',
        'NAME': 'blogs',
        'USER': 'root',
        'PASSWORD': 'root123',
        'HOST': 'localhost',
        'PORT': '3306',
    }
}
```

> Make sure your MySQL server is running and the database exists.

### 5Ô∏è‚É£ Run Migrations

```bash
python manage.py makemigrations
python manage.py migrate
```

### 6Ô∏è‚É£ Create Superuser

```bash
python manage.py createsuperuser
```

### 7Ô∏è‚É£ Start the Development Server

```bash
python manage.py runserver
```

---

## üåê Project URLs

### üñ• Web URLs

| URL | Description |
|-----|-------------|
| `/` | Shows the homepage with a list of all blog posts |
| `/posts/<post_id>/` | Opens a full view of a specific blog post |
| `/register/` | Page where new users can sign up |
| `/login/` | Page where existing users can log in |
| `/logout/` | Logs out the currently logged-in user |
| `/create/` | Allows a logged-in user to create a new blog post |
| `/posts/<post_id>/edit/` | Lets the original author edit their blog post |

---

### üîó API URLs

| URL | Description |
|-----|-------------|
| `/api/posts/` | Get a list of all blog posts or add a new one (requires login) |
| `/api/posts/<id>/` | Get, update, or delete one specific blog post by its ID |
| `/api/auth/` | Used to log in and get a JWT token for API use |
| `/api/auth/refresh/` | Used to refresh the JWT access token when it expires |
| `/api/register/` | Allows new users to sign up using the API |

---
### URL Patterns code 

project/urls.py

```
from django.contrib import admin
from django.urls import path, include
from rest_framework import routers
from blog.views import BlogPostViewSet, UserRegistrationView
from rest_framework_simplejwt.views import (
    TokenObtainPairView,
    TokenRefreshView,
)

router = routers.DefaultRouter()
router.register(r'posts', BlogPostViewSet, basename='post')

urlpatterns = [
    path('admin/', admin.site.urls),
    path('api/', include(router.urls)),
    path('api/auth/', TokenObtainPairView.as_view(), name='token_obtain_pair'),
    path('api/auth/refresh/', TokenRefreshView.as_view(), name='token_refresh'),
    path('api/register/', UserRegistrationView.as_view(), name='user_register'),
    path('', include('blog.urls', namespace='blog')),
]
```

appliecation(blog)/urls.py
```from django.urls import path
from . import views

app_name = 'blog'

urlpatterns = [
    path('', views.post_list, name='post_list'),
    path('posts/<int:post_id>/', views.post_detail, name='post_detail'),
    path('register/', views.register, name='register'),
    path('login/', views.login_view, name='login'),
    path('logout/', views.logout_view, name='logout'),
    path('create/', views.create_post, name='create_post'),
    path('posts/<int:post_id>/edit/', views.edit_post, name='edit_post'),
]
```

### üöÄ Django Blog Deployment on PythonAnywhere
This section guides you through deploying your Django blog application on PythonAnywhere, a beginner-friendly cloud hosting platform for Python apps.

### ‚úÖ  Prerequisites
A PythonAnywhere account.
Your code is committed to a GitHub repository 


### üì¶ Step-by-Step Deployment
1. Sign In & Create a New Web App
Go to https://www.pythonanywhere.com/ and log in.
Navigate to the Web tab and click "Add a new web app".
Choose:
Manual Configuration
Python 3.x (match your local version, e.g., Python 3.10)

### 2. Clone Your Project (or Upload)
Open the "Consoles" tab and start a Bash console.
Then clone your GitHub repo (or manually upload):
git clone https://github.com/yourusername/yourproject.git
cd yourproject
### 3. Create and Activate Virtual Environment

```python3 -m venv venv
source venv/bin/activate
```
Install required packages:

pip install -r requirements.txt
### 4. Set Environment Variables

Create a .env file inside your project (optional folder like .eVar/):

```SECRET_KEY=your-secret-key
DEBUG=False
DB_NAME=your-db-name
DB_USER=your-db-username
DB_PASSWORD=your-db-password
DB_HOST=your-db-host
DB_PORT=3306
```
In your settings.py, load it using python-dotenv:


```from dotenv import load_dotenv
load_dotenv()
```
### 5. Configure WSGI File
Go to Web > WSGI configuration file (e.g., /var/www/yourusername_pythonanywhere_com_wsgi.py) and add this:


```
import os
import sys

# add your project directory to the sys.path
project_home = '/home/yourusername/Blogs'
if project_home not in sys.path:
    sys.path.insert(0, project_home)

# set environment variable to tell django where your settings.py is
os.environ['DJANGO_SETTINGS_MODULE'] = 'blog_project.settings'


# serve django via WSGI
from django.core.wsgi import get_wsgi_application
application = get_wsgi_application()

```
Replace yourusername and yourproject with your actual values.

### 6. Apply Migrations and Collect Static Files
In Bash console:

```
python manage.py migrate
```
### 7. Configure Static and Media Files (in Web tab)
Static files:
URL: /static/
Path: /home/yourusername/yourproject/static


### 8. Reload Your Web App
Go to the Web tab and click the Reload button.

‚úÖ Your Django Blog is Now Live!
You can access it at:
https://yourusername.pythonanywhere.com/


### My Project URL
https://uttamchandsuthar47.pythonanywhere.com/
